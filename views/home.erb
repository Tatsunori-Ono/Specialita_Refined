<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,300i,400,400i,600,600i">
        <!--Font Awesome-->
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz" crossorigin="anonymous">
        <!--jQuery-->
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
        <!--jquery.cookie.js-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>
        <!--JavaScript-->
        <script type="text/javascript" src="/js/time_now.js"></script>
        <!--CSS-->
        <link rel="stylesheet" href="/css/timer.css">
        <link rel="stylesheet" href="/css/stage.css">
        <link rel="stylesheet" href="/css/sidebar.css">
        <link rel="stylesheet" href="/css/mission.css">
        <link rel="stylesheet" href="/css/subject_select.css">
        <link rel="stylesheet" href="/css/subject_add.css">
        <link rel="stylesheet" href="/css/settingbar.css">
        <link rel="stylesheet" href="/css/sp_movement.css">
        <!--Level Banner CSS-->
        <link rel="stylesheet" href="/css/level_banner.css">
        <!--Music Player CSS-->
        <link rel="stylesheet" href="/css/music_player.css">
        <!--Specialita Aura CSS-->
        <link rel="stylesheet" href="/css/aura.css">
        <!--Particle Background CSS-->
        <link rel="stylesheet" href="/css/particle_bg.css">
        <!--All Specialita CSS-->
        <link rel="stylesheet" href="/css/all_specialita.css">
        <!--Random Message CSS-->
        <link rel="stylesheet" href="/css/random_message.css">
    </head>
    <body>
        <!--Particle Background-->
        <div id="particles-js"></div>
        <!--Realtime Date and Time-->
        <div style="text-align: center;">
          <p style="display:inline; font-family: cursive; font-size: 20px" id="RealDate"></p>
          <p style="display:inline; font-family: cursive; font-size: 20px" id="RealtimeClock"></p>
          <div class="level-banner">
            <div class="level-banner-content">
              <% if current_user.records.present? %>
              		|<% @records.each do |record| %>
              		  <% if record.total_time.present? %>
              				<%= record.subject %> 
              				<strong>Lv. <%= ((record.total_time % (1000 * 60 * 60 * 24) / (1000 * 60 * 60)) * 2).floor %></strong> |
              		  <% end %>
              		<% end %>
              <% end %>
            </div>
          </div>
        </div>
        <!--Sidebar-->
        <div class="sidebar">
          <ul class="side">
            <li><a class="active" href="/home"><span class="fas fa-house-user"></span>Home</a></li>
            <li><a href="#news"><span class="far fa-newspaper"></span>News</a></li>
            <li><a href="/characters"><span class="far fa-address-book"></span>Characters</a></li>
            <li><a href="/overall_records"><span class="far fa-list-alt"></span>Records</a></li>
            <li><a href="#analysis"><span class="far fa-chart-bar"></span>Analysis</a></li>
          </ul>
        </div>
        <!--Settingbar-->
        <div class="settingbar">
          <ul class="setting">
            <li><a href="#day-streak"><span class="fas fa-fire-alt"></span>Day Streak</a></li>
            <li><a href="#news"><span class="fas fa-check-square"></span>Mission</a></li>
            <li><a href="/atlier"><span class="fas fa-industry"></span>Atelier</a></li>
            <li class="begin-tutorial"><a href="#tutorial"><span class="fas fa-chalkboard-teacher"></span>Tutorial<br>(èª¬æ˜ã¯ã“ã¡ã‚‰)</a></li>
            <li class="bottom"><a href="/setting"><span class="fas fa-cogs"></span>Setting</a></li>
            <div data-step='6' data-intro=
            "<b>èƒŒæ™¯ã®è¨­å®š</b>ã¯ã“ã“ã‹ã‚‰ï¼èƒŒæ™¯åã¨èƒŒæ™¯ã®ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸå¾Œã€ã‚»ãƒ¬ã‚¯ã‚¿ã§èƒŒæ™¯ã‚’é¸æŠã—ã¦ã€ŒSave Backgroundã€ã§èƒŒæ™¯ã‚’ä¿å­˜ã—ã¾ã—ã‚‡ã†ã€‚
            <br><i> Set your background from here! Once you set the background name and upload the background image, select the background in the selector and then save the background.</i>
            "></div>
          </ul>
        </div>
        <!--Specialitaè¡¨ç¤º-->
        <div data-step='7' data-intro=
        "åŸºæœ¬æ©Ÿèƒ½ã¯ä»¥ä¸Šã€‚ä»–ã«ã‚‚è‰²ã€…ãªæ©Ÿèƒ½ãŒã‚ã‚‹ã®ã§ã€ãœã²è©¦ã—ã¦ã¿ãŸãã ã•ã„ï¼âœ¨
        <br> ä»¥ä¸ŠSpecialitaã§ã—ãŸã€‚
        <br> <i> These are the basic functionalities. There are many other functions, thus please try them as well! </i>âœ¨
        <br> This was <b> Specialita</b>.
        ">
          <div id="sp-wrap">
            <% if current_user.user_sp_images.present? %>
              <div class='a'>
                <img id="puipui" class="purupuru" src="<%= current_user.user_sp_images.order(id: "DESC").first.record.image %>">
                <div id="aura"></div>
              </div>
            <% end %>
          </div>
        </div>
        <!--//Stage-->
        <div id="sp-stage-wrap">
          <div class="img_border">
            <!--Specialitaè¡¨ç¤º-->

            <!--èƒŒæ™¯è¡¨ç¤º-->
            <div class="stage_format">
              <div data-step='2' data-intro=
              '<img src="/images/default/Specialita-Standard.png" width="100.125" height="187">
              ã“ã‚ŒãŒ<b>Specialita</b>ã€‚<br> ã“ã®ã‚²ãƒ¼ãƒ ã®ä¸»å½¹ã«ã—ã¦ã€ã“ã‚Œã‹ã‚‰å›ã¨ä¸€ç·’ã«æˆé•·ã™ã‚‹ç›¸æ£’ã€‚
              <br><i>This is Specialita, the main character of this game and your best buddy.</i>'>
                <% if current_user.user_bg_images.present? %>
                  <img src="<%= current_user.user_bg_images.order(id: "DESC").first.background.bg_image %>">
                <% end %>
              </div>
            </div>
          </div>
        </div>
        <!--Subject-->
        <div class="subject-container">
          <!--Subject Selection-->
            <div class="selectbox color">
              <div data-step='4' data-intro=
              "è¿½åŠ ãŒã§ããŸã‚‰ã€ã“ã“ã§<b>ç§‘ç›®ã‚’é¸æŠ</b>ã€‚å¿…ãšç§‘ç›®ã‚’ã“ã“ã§é¸ã‚“ã§ã‹ã‚‰æ™‚é–“ã‚’è¨˜éŒ²ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã—ã‚‡ã†ã€‚å‰ã«é¸æŠå¾Œã€ãƒšãƒ¼ã‚¸ã‚’ãƒªãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã¨é¸æŠã•ã‚ŒãŸç§‘ç›®ã®ã‚­ãƒ£ãƒ©ãŒç”»é¢ã«è¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆï¼
              <br><i>After registration of your Specialita, you can choose your added subject from this selector. Please make sure that you choose your subject first to record your time. If you reload the page after selecting, you will be able to see your Specialita on the screen</i> ğŸ‘
              ">
                <select name="subject" id="selectSubject">
                  <option value="" disabled selected>Select Subject</option>
                  <% @records.each do |record| %>
                    <option value="<%= record.subject %>"><%= record.subject %></option>
                  <% end %>
                </select>
              </div>
            </div>
          <!--Subject Add-->
          <div data-step='3' data-intro=
          "ã¾ãšã€è‡ªåˆ†ãŒå‹‰å¼·æ™‚é–“ã‚’è¨˜éŒ²ã—ãŸã„ç§‘ç›®ã‚’è¿½åŠ ã—ã‚ˆã†ï¼
          <br> <i> First of all, let's add the subject you want to study! </i>
          <br> ------------- <br>
          ãã®ç§‘ç›®ã«é–¢é€£ä»˜ã‘ãŸã„ã‚­ãƒ£ãƒ©(Specialita)ã®ç”»åƒã‚‚ä¸€ç·’ã«ç™»éŒ²ã—ã¾ã—ã‚‡ã†âœ¨
          <br><i> Make sure to prepare your image of your character (Specialita) representing the subject since you will need to register the subject as well as the subject image simultaneously.</i>
          <br> ------------- <br>
          <b>ç§‘ç›®ï¼†Specialitaç™»éŒ²</b>ã¯ã“ã®ãƒœã‚¿ãƒ³ã‹ã‚‰<br>â†™
          <br><i> Register your Specialita from this button</i><br>â†™">
            <div class="subject_add_container">
              <a href="/subject/new" class="subject_add_button" style="color: black; padding: 0; border: dashed 5px #77C2B9;">New Subject</a>
            </div>
          </div>
        </div>
        <div data-step='5' data-intro="
        å‹‰å¼·æ™‚é–“ã®è¨˜éŒ²ã¯ã“ã“ã®<b>ã‚¿ã‚¤ãƒãƒ¼</b>ã‚’ä½¿ã„ã¾ã—ã‚‡ã†ï¼
        <br><i>Studying time can be recorded by using this timer!</i>
        <br> â–¶ï¸ï¸ =ã‚¿ã‚¤ãƒãƒ¼é–‹å§‹/StartTimer
        <br> â¸=ã‚¿ã‚¤ãƒãƒ¼ä¸€æ™‚åœæ­¢/Stop Timer
        <br> + =å‹‰å¼·æ™‚é–“è¿½åŠ /Add Studying Time
        ">
          <!--Timer-->
            <div id="timerContainer">
              <div class="timer" onclick="startTimer()">Start Studying!</div>
              <div class="startTimer reset" onclick="startTimer()" >
                <i class="fas fa-play"></i>
              </div>
              <div class="pauseTimer reset" onclick="pauseTimer()" >
                <i class="fas fa-pause"></i>
              </div>
              <div class="resetTimer reset" onclick="resetTimer()">+</div>
            </div>
          <!--Total Time-->
          <div id="total_timerContainer">
            <div class="total_timer_design">
              <div class="total_timer">Total Time</div>
            </div>
          </div>
        </div>
        <!--Random Message-->
        <div class="floating">
          <div id="RandomMessage" class="glowAnime"></div>
        </div>
        <!--Music Player-->
        <div class="music_player_body">
            <div class="music-container" id="music-container">
              <div class="music-info">
                <h4 id="title"></h4>
                <div class="progress-container" id="progress-container">
                  <div class="progress" id="progress"></div>
                </div>
              </div>
        
              <audio src="/music/Specialita_Original_Track.mp3" id="audio"></audio>
              <audio src="/music/phony.mp3" id="audio"></audio>
              <audio src="/music/The_Fat_Rat.mp3" id="audio"></audio>
        
              <div class="img-container">
                <img src="/images/default/Specialita_Original_Track.jpg", "/images/phony.jpg", "/images/The_Fat_Rat.jpg"  alt="music-cover" id="cover"/>
              </div>
              <div class="navigation">
                <button id="prev" class="action-btn">
                  <i class="fas fa-backward"></i>
                </button>
                <button id="play" class="action-btn action-btn-big">
                  <i class="fas fa-play"></i>
                </button>
                <button id="next" class="action-btn">
                  <i class="fas fa-forward"></i>
                </button>
              </div>
            </div>
        </div>
        
        <!--Stage for Specialita JS-->
        <script type="text/javascript" src="/js/sp_stage.js"></script>
        <!--Music Player JS-->
        <script type="text/javascript" src="/js/music_player.js"></script>
        <!--Time JS-->
        <script type="text/javascript" src="/js/stopwatch.js"></script>
        <script type="text/javascript" src="/js/background.js"></script>
        <!--SP Movement JS-->
        <script type="text/javascript" src="/js/sp_movement.js"></script>
        <!-- intro.js, introjs.cssã‚’èª­ã¿è¾¼ã¿-->
        <script src="https://unpkg.com/intro.js@4.2.2/minified/intro.min.js"></script>
        <link rel="stylesheet" type="text/css" href="https://unpkg.com/intro.js@4.2.2/minified/introjs.min.css">
        <!-- read tutorial setting -->
        <script type="text/javascript" src="/js/tutorial_setting.js"></script>
        <!--particle.js-->
        <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
        <script src="/js/particle_bg.js"></script>
        <!--Specialita Aura-->
        <script src="/js/aura.js"></script>
        <!--All Specialita-->
        <script src="/js/all_specialita.js"></script>
        <!--Random Message-->
        <script src="/js/random_message.js"></script>
        <!--sp-movement loop-->
        <script>
          // IDå€¤ã€Œpuipuiã€ã«å¯¾ã—ã¦CSSã‚¢ãƒ‹ãƒ¡â€•ã‚·ãƒ§ãƒ³ã€Œpurupuruã€ã‚’800ãƒŸãƒªç§’ã®é–“éš”ã‚’ç©ºã‘ã¦ãƒ«ãƒ¼ãƒ—å†ç”Ÿ
          looopAnimation("puipuii", "purupuru", 800);
        </script>
        <!-- introJs().start();ã‚’å®Ÿè¡Œã™ã‚‹/ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«é–‹å§‹ -->
        <script>
          
          // Tutorialãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨Tutorialé–‹å§‹
          document.querySelector('.begin-tutorial').addEventListener('click', function(){
            introJs().setOptions({
            'nextLabel': "æ¬¡ã¸/Next",
            'prevLabel': "æˆ»ã‚‹/Back",
            'doneLabel': 'Specialita!',
            'showProgress': false,
            'hidePrev': true,
            'hideNext': false,
            'disableInteraction': false,
            'exitOnEsc': false,
            'exitOnOverlayClick': false,
            'keyboardNavigation': true,
            'showStepNumbers': false
            }).start()
          });
        </script>
    </body>
</html>